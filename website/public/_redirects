# Handle the /smartgrind/ prefix by stripping it for static assets
/smartgrind/assets/* /assets/:splat 200
/smartgrind/logo.svg /logo.svg 200
/smartgrind/manifest.json /manifest.json 200
/smartgrind/solutions/* /solutions/:splat 200
/smartgrind/patterns/* /patterns/:splat 200

# Service Worker - MUST be served as JS, not index.html (first match wins)
# Without this, /smartgrind/* would catch /smartgrind/sw.js and return HTML → SyntaxError
/smartgrind/sw.js /smartgrind/sw.js 200

# Directory-level fallbacks
/smartgrind/solutions /solutions/ 200
/smartgrind/patterns /patterns/ 200

# SPA fallback: all other /smartgrind/ paths → index.html
/smartgrind/* /index.html 200

# Global SPA fallback
/* /index.html 200
